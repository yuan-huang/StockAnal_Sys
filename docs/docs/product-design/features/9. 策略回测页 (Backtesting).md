# 策略回测页 (Backtesting)

## 定位
验证选股或交易策略的历史表现。

## 核心板块设计

### 回测参数配置区 (Backtest Configuration)
- **内容**：表单形式，用于选择：
  - **策略**：从预设策略库选择（如："连续5日资金流入TOP10"）或输入自定义选股条件
  - **回测时间范围**：开始日期与结束日期
  - **交易规则**：调仓周期（每日/每周）、手续费、初始资金

### 回测结果可视化展示 (Backtest Results Visualization)
- **内容**：
  - **收益曲线图**：将策略收益、基准指数收益（如沪深300）绘制在同一图中
  - **关键绩效指标**：清晰展示年化收益率、最大回撤、夏普比率、胜率
  - **详细数据表**：展示历年收益、月度收益、持仓列表变化


## 页面按钮设计
### 主要操作按钮
- **开始回测** ▶️：根据当前参数启动策略回测
- **重置参数** 🔄：重置所有回测参数为默认值
- **保存策略** 💾：保存当前自定义策略配置
- **导出结果** 📥：导出回测结果（Excel/PDF）
- **对比基准** ⚖️：选择/切换基准指数进行对比
- **查看明细** 📊：展开/收起详细回测数据表

### 策略管理与优化按钮
- **策略库** 📚：打开策略库，选择/管理历史策略
- **参数优化** 🛠️：自动化参数寻优，寻找最佳回测参数组合
- **保存为模板** 📝：将当前参数保存为回测模板
- **加载模板** 📂：从模板库加载参数配置

### 可视化与分析按钮
- **收益曲线** 📈：切换收益曲线展示方式（累计/区间）
- **绩效指标** 🏅：切换/展开更多绩效指标
- **持仓明细** 📋：查看每期持仓及调仓明细
- **交易明细** 💹：查看每笔买卖交易记录
- **风险分析** ⚠️：展示风险指标与回撤分析


# 页面布局设计

## 整体布局结构

### 页面示意图（草图）
```
[策略回测]

┌───────────────────────────────┬──────────────────────────────────────────────┐
│ 回测参数配置                   │ 回测结果可视化与明细                           │
│                               │                                              │
│ 策略： [策略库 ▼]  [保存策略]   │ 工具： [对比基准] [收益曲线] [绩效指标] [查看明细]   │
│ 时间： [开始日期]~[结束日期]    │       [持仓明细] [交易明细] [风险分析] [导出结果]    │
│ 交易： 调仓周期[每日/每周 ▼]    │                                              │
│       手续费[   ] 初始资金[   ] │ ┌──────────────────────────────────────────┐ │
│                               │ │        收益曲线（策略 vs 基准）            │ │
│ 操作： [开始回测 ▶️] [重置参数]  │ └──────────────────────────────────────────┘ │
│       [保存为模板] [加载模板]   │                                              │
│       [参数优化 🛠️]             │ 关键指标： 年化收益 | 最大回撤 | 夏普 | 胜率         │
│                               │                                              │
│ 说明：支持预设与自定义条件     │ ┌──────────────── 数据明细（可折叠） ───────────────┐ │
│                               │ │ [年度/月度收益] [持仓列表] [调仓记录]            │ │
│                               │ └──────────────────────────────────────────────┘ │
└───────────────────────────────┴──────────────────────────────────────────────┘
```